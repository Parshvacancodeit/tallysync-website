{% extends "base.html" %}
{% block title %}TallySync{% endblock %}

{% block content %}
<h1>TallySync â€“ XML Tester</h1>
<p style="color:#666;margin-bottom:2rem;">
    Upload a Tally XML file and sync it directly with Tally.
</p>

<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;">

    <!-- Upload XML -->
    <div style="padding:2rem;background:#f8f9fa;border-radius:1rem;border-left:4px solid #0d6efd;">
        <h3>ðŸ“„ Upload XML</h3>
        <p style="color:#666;margin:1rem 0;">
            Upload a Tally-compatible XML file
        </p>
        <a href="{{ url_for('upload_xml') }}" class="btn btn-primary">
            Upload XML
        </a>
    </div>

    <!-- Sync with Tally -->
    <div style="padding:2rem;background:#f8f9fa;border-radius:1rem;border-left:4px solid #198754;">
        <h3>ðŸš€ Sync with Tally</h3>
        <p style="color:#666;margin:1rem 0;">
            Send uploaded XML to local Tally via connector
        </p>

        <form method="POST" action="{{ url_for('sync_with_tally') }}">
            <button class="btn btn-success"
                {% if not session.get('xml_data') %}disabled{% endif %}>
                Sync with Tally
            </button>
        </form>

        {% if not session.get('xml_data') %}
        <small style="color:#999;display:block;margin-top:0.5rem;">
            Upload XML first
        </small>
        {% endif %}
    </div>

</div>
{% endblock %}
